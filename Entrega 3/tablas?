CREATE SCHEMA LOS_HELECHOS_BI;
GO

-- Tabla de hechos: Ventas
CREATE TABLE LOS_HELECHOS_BI.Fact_Ventas (
    id_venta INT IDENTITY(1,1) PRIMARY KEY,
    fecha DATE,
    id_cliente BIGINT,
    id_sucursal INT,
    id_sillon INT,
    cantidad INT,
    precio_unitario DECIMAL(10,2),
    subtotal DECIMAL(10,2),
    total_factura DECIMAL(10,2)
);

-- Tabla dimensión: Tiempo
CREATE TABLE LOS_HELECHOS_BI.Dim_Tiempo (
    fecha DATE PRIMARY KEY,
    anio INT,
    trimestre INT,
    mes INT,
    dia INT,
    nombre_mes VARCHAR(20)
);

-- Tabla dimensión: Cliente
CREATE TABLE LOS_HELECHOS_BI.Dim_Cliente (
    id_cliente BIGINT PRIMARY KEY,
    dni BIGINT,
    nombre VARCHAR(255),
    apellido VARCHAR(255),
    fecha_nacimiento DATE,
    mail VARCHAR(255),
    direccion VARCHAR(255),
    telefono VARCHAR(255),
    localidad VARCHAR(255),
    provincia VARCHAR(255)
);

-- Tabla dimensión: Sucursal
CREATE TABLE LOS_HELECHOS_BI.Dim_Sucursal (
    id_sucursal INT PRIMARY KEY,
    direccion VARCHAR(255),
    telefono VARCHAR(255),
    mail VARCHAR(255),
    localidad VARCHAR(255),
    provincia VARCHAR(255)
);

-- Tabla dimensión: Producto (Sillón)
CREATE TABLE LOS_HELECHOS_BI.Dim_Sillon (
    id_sillon INT PRIMARY KEY,
    modelo VARCHAR(255),
    descripcion_modelo VARCHAR(255),
    medida_alto DECIMAL(6,2),
    medida_ancho DECIMAL(6,2),
    medida_profundidad DECIMAL(6,2),
    precio_medida DECIMAL,
    material VARCHAR(255),
    precio_material DECIMAL
);
